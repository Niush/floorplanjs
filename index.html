<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/jpg" href="./icons/favicon.jpg">
    <title>Floor Plan App v0.1</title>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <!-- <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> -->
    <link rel="stylesheet" href="style.css">
</head>

<body style="background:#f2eee5;margin:0;padding:0;" ontouchstart='swipe(event)'>
  <span class="loading_screen">Loading..</span>
  <header>Floor Plan App Ver.0.1</header>

  <svg id="lin" viewBox="0 0 1100 700"  preserveAspectRatio="xMidYMin slice" xmlns="http://www.w3.org/2000/svg" style="z-index:2;margin:0;padding:0;width:100vw;height:100vh;position:absolute;top:0;left:0;right:0;bottom:0">

    <defs>
      <linearGradient id="gradientRed" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#e65d5e" stop-opacity="1"/>
        <stop offset="100%" stop-color="#e33b3c" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientYellow" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#FDEB71" stop-opacity="1"/>
        <stop offset="100%" stop-color="#F8D800" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientGreen" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#c0f7d9" stop-opacity="1"/>
        <stop offset="100%" stop-color="#6ce8a3" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientSky" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#c4e0f4" stop-opacity="1"/>
        <stop offset="100%" stop-color="#87c8f7" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientOrange" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#f9ad67" stop-opacity="1"/>
        <stop offset="100%" stop-color="#f97f00" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientWhite" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#ffffff" stop-opacity="1"/>
        <stop offset="100%" stop-color="#f0f0f0" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientGrey" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#666" stop-opacity="1"/>
        <stop offset="100%" stop-color="#aaa" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientBlue" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#4f72a6" stop-opacity="1"/>
        <stop offset="100%" stop-color="#365987" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientPurple" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#E2B0FF" stop-opacity="1"/>
        <stop offset="100%" stop-color="#9F44D3" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientPink" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#f6c4dd" stop-opacity="1"/>
        <stop offset="100%" stop-color="#f699c7" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientBlack" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#3c3b3b" stop-opacity="1"/>
        <stop offset="100%" stop-color="#000000" stop-opacity="1"/>
      </linearGradient>
      <linearGradient id="gradientNeutral" x1="0%" y1="0%" x2="100%" y2="100%" spreadMethod="pad">
        <stop offset="0%"   stop-color="#dbc6a0" stop-opacity="1"/>
        <stop offset="100%" stop-color="#c69d56" stop-opacity="1"/>
      </linearGradient>

      <pattern id="grass" patternUnits="userSpaceOnUse" width="256" height="256">
        <image xlink:href="./patterns/grass.jpg" x="0" y="0" width="256" height="256" />
      </pattern>
      <pattern id="wood" patternUnits="userSpaceOnUse" width="32" height="256">
        <image xlink:href="./patterns/wood.jpg" x="0" y="0" width="256" height="256" />
      </pattern>
      <pattern id="tiles" patternUnits="userSpaceOnUse" width="25" height="25">
        <image xlink:href="./patterns/tiles.jpg" x="0" y="0" width="256" height="256" />
      </pattern>
      <pattern id="granite" patternUnits="userSpaceOnUse" width="256" height="256">
        <image xlink:href="./patterns/granite.jpg" x="0" y="0" width="256" height="256" />
      </pattern>
      <pattern id="smallGrid" width="60" height="60" patternUnits="userSpaceOnUse">
        <path d="M 60 0 L 0 0 0 60" fill="none" stroke="#777" stroke-width="0.25"/>
      </pattern>
      <pattern id="grid" width="180" height="180" patternUnits="userSpaceOnUse">
        <rect width="180" height="180" fill="url(#smallGrid)"/>
        <path d="M 200 10 L 200 0 L 190 0 M 0 10 L 0 0 L 10 0 M 0 190 L 0 200 L 10 200 M 190 200 L 200 200 L 200 190" fill="none" stroke="#999" stroke-width="0.8"/>
      </pattern>
      <pattern id="hatch" width="5" height="5" patternTransform="rotate(50 0 0)" patternUnits="userSpaceOnUse" >
        <path d="M 0 0 L 0 5 M 10 0 L 10 10 Z" style="stroke:#666;stroke-width:5;" />
      </pattern>
    </defs>
    <g id="boxgrid">
      <rect width="8000" height="5000" x="-3500" y="-2000" fill="url(#grid)" />
    </g>
    <g id="boxpath"></g>
    <g id="boxSurface"></g>
    <g id="boxRoom"></g>
    <g id="boxwall"></g>
    <g id="boxcarpentry"></g>
    <g id="boxEnergy"></g>
    <g id="boxFurniture"></g>
    <g id="boxbind"></g>
    <g id="boxArea"></g>
    <g id="boxRib"></g>
    <g id="boxScale"></g>
    <g id="boxText"></g>
    <g id="boxDebug"></g>
  </svg>

  <div id="areaValue"></div>

  <div id="reportTools" class="leftBox" style="width:500px;overflow-y: scroll;overflow-x: hidden">
    <h2><i class="fa fa-calculator" aria-hidden="true"></i> Report plan.</h2>
    <div><button id="exportJson" class="btn btn-sm btn-primary" style="margin:0;">Export JSON</button></div>
    <h2 class="toHide" id="reportTotalSurface" style="display:none"></h2>
    <h2 class="toHide" id="reportNumberSurface" style="display:none"></h2>
    <hr/>
    <section id="reportRooms" class="toHide" style="display:none">
    </section>
    <button class="btn btn-info fully" style="margin-top:10px" onclick="$('#reportTools').hide('500', function(){$('#panel').show(300);});mode = 'select_mode';"><i class="fa fa-2x fa-backward" aria-hidden="true" ></i></button>
  </div>

  <div id="wallTools" class="leftBox"  style="overflow: auto;">
    <h2 id="titleWallTools">Modify the wall</h2>
    <hr/>
    <section id="rangeThick">
      <p>Width [<span id="wallWidthScale"></span>] : <span id="wallWidthVal"></span> cm</span></p>
      <input type="range" id="wallWidth" step="0.1" class="range" />
      <p class="wallHeight">Height (in cm): <span id="wallHeightVal"></span> cm</p>
      <input type="number" id="wallHeight" step="0.1" /> <br/>
      <p class="roofHeight">Roof Height Start (in cm): <span id="roofHeightStartVal"></span> cm</p>
      <input type="number" id="roofHeightStart" step="0.1" value="800" /> <br/>
      <p class="roofHeight"><br/>Roof Height End (in cm): <span id="roofHeightEndVal"></span> cm</p>
      <input type="number" id="roofHeightEnd" step="0.1" value="800" /> <br/>
    </section>
    <br/>
    <ul class="list-unstyled">
    <section id="cutWall">
      <p>Cut the wall :<br/><small>A cut will be made at each wall encountered.</small></p>
      <li><button class="btn btn-default fully" onclick="editor.splitWall();"><i class="fa fa-2x fa-cutlery" aria-hidden="true"></i></button></li>
    </section>
    <br/>
    <section id="separate">
      <p>Separation wall :<br/><small>Transform the wall into simple separation line.</small></p>
      <li><button class="btn btn-default fully" onclick="editor.invisibleWall();" id="wallInvisible"><i class="fa fa-2x fa-crop" aria-hidden="true"></i></button></li>
    </section>
    <section id="recombine">
      <p>Transform to wall :<br/><small>The thickness will be identical to the last known.</small></p>
      <li><button class="btn btn-default fully" onclick="editor.visibleWall();" id="wallVisible"><i class="fa fa-2x fa-crop" aria-hidden="true"></i></button></li>
    </section>
    <br/>
    <section id="">
      <p>Type of Wall :</p>
      <select name="" id="typeWall" class="form-control">
        <option value="">--select--</option>
        <option value="type 1">Type 1</option>
        <option value="type 2">Type 2</option>
        <option value="type 3">Type 3</option>
        <option value="type 4">Type 4</option>
        <option value="type 5">Type 5</option>
      </select>
    </section>
    <br/>
    <section id="walltype">
      <p>Damage Level :</p>
      <button class="btn btn-default btn-sm" onclick="editor.updateDamageLevel('good');" id="wallGood"><i class="fa fa-2x fa-check-circle" aria-hidden="true" style="color: green;"></i></button>
      <button class="btn btn-default btn-sm" onclick="editor.updateDamageLevel('medium');" id="wallMedium"><i class="fa fa-2x fa-exclamation-triangle" aria-hidden="true" style="color: orange;"></i></button>
      <button class="btn btn-default btn-sm" onclick="editor.updateDamageLevel('high');" id="wallHigh"><i class="fa fa-2x fa-exclamation-circle" aria-hidden="true" style="color: red;"></i></button>
    </section>
    <br/>
    <section id="demolishStatus">
      <p>Demolish :</p>
      <button class="btn btn-default btn-sm" onclick="editor.updateDemolishStatus('yes', 'wall', 'Wall')" id="demolishWallYes">Yes</button>
      <button class="btn btn-default btn-sm" onclick="editor.updateDemolishStatus('no', 'wall', 'Wall')" id="demolishWallNo">No</button>
    </section>
    <br/>
    <li><button class="btn btn-danger fully" id="wallTrash"><i class="fa fa-2x fa-trash-o" aria-hidden="true"></i></button></li>
    <li><button class="btn btn-info fully" style="margin-top:50px" onclick="fonc_button('select_mode');$('#boxinfo').html('Select mode');$('#wallTools').hide('300');$('#panel').show('300');"><i class="fa fa-2x fa-backward" aria-hidden="true" ></i></button></li>
    </ul>
  </div>

  <div id="objBoundingBox" class="leftBox" style="overflow: auto;">
    <h2>Modify object</h2>
    <hr/>
    <section id="objBoundingBoxScale">
      <p>Length [<span id="bboxWidthScale"></span>] : <span id="bboxWidthVal"></span> cm</span></p>
      <input type="number" id="bboxWidth" step="1" style="width: 100%;" /> 
      <p>Width [<span id="bboxHeightScale"></span>] : <span id="bboxHeightVal"></span> cm</span></p>
      <input type="number" id="bboxHeight" step="1" style="width: 100%;" />
    </section>

    <section id="objSlabFloorOffsetHeight">
      <p>Height Offset : <span id="bboxSlabFloorOffsetHeightVal"></span> cm</span></p>
      <input type="number" id="bboxSlabFloorOffsetHeight" step="1" />
    </section>
    <br/>
    <section id="objColumnHeight">
      <p>Column Height [<span id="bboxColumnHeightScale"></span>] : <span id="bboxColumnHeightVal"></span> cm</span></p>
      <input type="number" id="bboxColumnHeight" step="1" style="width: 100%;" /> 
    </section>
    
    <section id="objBeamHeight">
      <p>Beam Height [<span id="bboxBeamHeightScale"></span>] : <span id="bboxBeamHeightVal"></span> cm</span></p>
      <input type="number" id="bboxBeamHeight" step="1" style="width: 100%;" /> 
    </section>
    <br/>
    <section id="objColumnType">
      <p>Type of Column :</p>
      <select name="" id="typeColumn" class="form-control">
        <option value="">--select--</option>
        <option value="type 1">Type 1</option>
        <option value="type 2">Type 2</option>
        <option value="type 3">Type 3</option>
        <option value="type 4">Type 4</option>
        <option value="type 5">Type 5</option>
      </select>
    </section>

    <section id="objBeamType">
      <p>Type of Beam :</p>
      <select name="" id="typeBeam" class="form-control">
        <option value="">--select--</option>
        <option value="type 1">Type 1</option>
        <option value="type 2">Type 2</option>
        <option value="type 3">Type 3</option>
        <option value="type 4">Type 4</option>
        <option value="type 5">Type 5</option>
      </select>
    </section>
    
    <br/>

    <section id="objSlabFloorType">
      <p>Type of Slab/Floor :</p>
      <select name="" id="typeSlabFloor" class="form-control">
        <option value="">--select--</option>
        <option value="type 1">Type 1</option>
        <option value="type 2">Type 2</option>
        <option value="type 3">Type 3</option>
        <option value="type 4">Type 4</option>
        <option value="type 5">Type 5</option>
      </select>
    </section>
    <br/>


    <section id="objStairType">
      <p>Type of Stair :</p>
      <select name="" id="typeStair" class="form-control">
        <option value="">--select--</option>
        <option value="type 1">Type 1</option>
        <option value="type 2">Type 2</option>
        <option value="type 3">Type 3</option>
        <option value="type 4">Type 4</option>
        <option value="type 5">Type 5</option>
      </select>
    </section>
    <br/>

    <section id="demolisColumnStatus">
      <p>Demolish :</p>
      <button class="btn btn-default btn-sm" onclick="editor.updateDemolishStatus('yes', 'obj', 'Column')" id="demolishColumnYes">Yes</button>
      <button class="btn btn-default btn-sm" onclick="editor.updateDemolishStatus('no', 'obj', 'Column')" id="demolishColumnNo">No</button>
    </section>
    <br/>

    <section id="objBoundingBoxRotation">
    <p><i class="fa fa-compass" aria-hidden="true"></i> Rotation : <span id="bboxRotationVal"></span> °</p>
    <input type="range" id="bboxRotation" step="1" class="range" min="-180" max = "180"/>
    </section>



    <div id="stepsCounter" style="display:none;">
      <p><span id="bboxSteps">Steps [2-15] : <span id="bboxStepsVal">0</span></span></p>
      <button class="btn btn-info" id="bboxStepsAdd"><i class="fa fa-plus" aria-hidden="true"></i></button>
      <button class="btn btn-info" id="bboxStepsMinus"><i class="fa fa-minus" aria-hidden="true"></i></button>
    </div>

    <div id="objBoundingBoxColor" >
      <div class="color textEditorColor" data-type="gradientRed" style="color:#f55847;background:linear-gradient(30deg, #f55847, #f00);"></div>
      <div class="color textEditorColor" data-type="gradientYellow" style="color:#e4c06e;background:linear-gradient(30deg,#e4c06e, #ffb000);"></div>
      <div class="color textEditorColor" data-type="gradientGreen" style="color:#88cc6c;background:linear-gradient(30deg,#88cc6c, #60c437);"></div>
      <div class="color textEditorColor" data-type="gradientSky" style="color:#77e1f4;background:linear-gradient(30deg,#77e1f4, #00d9ff);"></div>
      <div class="color textEditorColor" data-type="gradientBlue" style="color:#4f72a6;background:linear-gradient(30deg,#4f72a6, #284d7e);"></div>
      <div class="color textEditorColor" data-type="gradientGrey" style="color:#666666;background:linear-gradient(30deg,#666666, #aaaaaa);"></div>
      <div class="color textEditorColor" data-type="gradientWhite" style="color:#fafafa;background:linear-gradient(30deg,#fafafa, #eaeaea);"></div>
      <div class="color textEditorColor" data-type="gradientOrange" style="color:#f9ad67;background:linear-gradient(30deg, #f9ad67, #f97f00);"></div>
      <div class="color textEditorColor" data-type="gradientPurple" style="color:#a784d9;background:linear-gradient(30deg,#a784d9, #8951da);"></div>
      <div class="color textEditorColor" data-type="gradientPink" style="color:#df67bd;background:linear-gradient(30deg,#df67bd, #e22aae);"></div>
      <div class="color textEditorColor" data-type="gradientBlack" style="color:#3c3b3b;background:linear-gradient(30deg,#3c3b3b, #000000);"></div>
      <div class="color textEditorColor" data-type="gradientNeutral" style="color:#e2c695;background:linear-gradient(30deg,#e2c695, #c69d56);"></div>
      <div style="clear:both"></div>
    </div>

    <br/><br/>
    <button class="btn btn-danger fully" id="bboxTrash"><i class="fa fa-2x fa-trash-o" aria-hidden="true"></i></button>
    <button class="btn btn-info fully" style="margin-top:20px" onclick="fonc_button('select_mode');$('#boxinfo').html('Select mode');$('#objBoundingBox').hide(100);$('#panel').show(200);binder.graph.remove();delete binder;"><i class="fa fa-2x fa-backward" aria-hidden="true" ></i></button>
  </div>

  <div id="objTools" class="leftBox" style="overflow: auto;">
    <h2>Modify door/window</h2>
    <hr/>
    <ul class="list-unstyled">
      <br/>
      <li><button class="btn btn-default fully" id="objToolsHinge">REVERSE THE GONDS</button></li>

      <p>Width [<span id="doorWindowWidthScale"></span>] : <span id="doorWindowWidthVal"></span> cm</span></p>
      <input type="range" id="doorWindowWidth" step="1" class="range" />

      <p>Height (in cm): <span id="doorWindowHeightVal"></span> cm</p>
      <input type="number" id="doorWindowHeight" step="0.10" /> <br/><br/>

      <p>Sill Height (in cm): <span id="doorWindowSillHeightVal"></span> cm</p>
      <input type="number" id="doorWindowSillHeight" step="0.10" /> <br/>

    <br/>
    <section id="">
      <p>Type of Door/Window :</p>
      <select name="" id="typeDoorWindow" class="form-control">
        <option value="">--select--</option>
        <option value="type 1">Type 1</option>
        <option value="type 2">Type 2</option>
        <option value="type 3">Type 3</option>
        <option value="type 4">Type 4</option>
        <option value="type 5">Type 5</option>
      </select>
    </section>
    <br/>
    <section id="demolishDoorWindowStatus">
      <p>Demolish :</p>
      <button class="btn btn-default btn-sm" onclick="editor.updateDemolishStatus('yes', 'obj', 'DoorWindow')" id="demolishDoorWindowYes">Yes</button>
      <button class="btn btn-default btn-sm" onclick="editor.updateDemolishStatus('no', 'obj', 'DoorWindow')" id="demolishDoorWindowNo">No</button>
    </section>
    <br/>
    <li><button class="btn btn-danger fully objTrash"><i class="fa fa-2x fa-trash-o" aria-hidden="true"></i></button></li>
    <li><button class="btn btn-info" style="margin-top:10px" onclick="fonc_button('select_mode');$('#boxinfo').html('Select mode');$('#objTools').hide('100');$('#panel').show('200');binder.graph.remove();delete binder;rib();"><i class="fa fa-2x fa-backward" aria-hidden="true" ></i></button></li>
    </ul>
  </div>

  <div id="roomTools" style="overflow: auto;" class="leftBox">
    <span style="color:#08d">Floor Plan App</span> estimated a surface of :<br/><b><span class="size"></span></b>
    <br/><br/>
    <p>If you have the actual area, you can write it</p>
    <div class="input-group">
    <input type="text" class="form-control" id="roomSurface"  placeholder="surface réelle" aria-describedby="basic-addon2">
    <span class="input-group-addon" id="basic-addon2">m²</span>
    </div>
    <br/>
    <input type="hidden" id="roomName" value="" />
    Wording :<br/>
    <div class="btn-group">
        <button class="btn dropdown-toggle btn-default" data-toggle="dropdown" id="roomLabel">Wording of the room   <span class="caret"></span></button>
    <ul class="dropdown-menu">
      <li><a href="#">None</a></li>
      <li><a href="#">Toilet</a></li>
      <li><a href="#">Bathroom</a></li>
      <li><a href="#">Bedroom</a></li>
      <li><a href="#">Kitchen</a></li>
      <li class="divider"></li>
      <li><a href="#">Balcony</a></li>
      <li><a href="#">Terrace</a></li>
      <li><a href="#">Corridor</a></li>
      <li><a href="#">Garage</a></li>
      <li class="divider"></li>
      <li><a href="#">Clearance</a></li>
      <li><a href="#">Slab</a></li>
      <li><a href="#">Roof</a></li>
      <li class="divider"></li>
      <li><a href="#">Lounge</a></li>
      <li><a href="#">Locker</a></li>
      <li><a href="#">Office</a></li>
      <li><a href="#">Hall</a></li>
    </ul>
    </div>
    <br/>
    <br/>
    Meter :
    <div class="funkyradio">
      <div class="funkyradio-success">
             <input type="checkbox" name="roomShow" value="showSurface" id="seeArea" checked/>
             <label for="seeArea">Show the surface</label>
         </div>
    </div>
    <div class="funkyradio">
            <div class="funkyradio-success">
                <input type="radio" name="roomAction" id="addAction" value="add" checked />
                <label for="addAction">Add the surface</label>
            </div>
            <div class="funkyradio-warning">
                <input type="radio" name="roomAction" id="passAction" value="pass" />
                <label for="passAction">Ignore the surface</label>
            </div>
    </div>
    <hr/>

    <p>Colors</p>
    <div class="roomColor" data-type="gradientRed" style="background:linear-gradient(30deg, #f55847, #f00);"></div>
    <div class="roomColor" data-type="gradientYellow" style="background:linear-gradient(30deg,#e4c06e, #ffb000);"></div>
    <div class="roomColor" data-type="gradientGreen" style="background:linear-gradient(30deg,#88cc6c, #60c437);"></div>
    <div class="roomColor" data-type="gradientSky" style="background:linear-gradient(30deg,#77e1f4, #00d9ff);"></div>
    <div class="roomColor" data-type="gradientBlue" style="background:linear-gradient(30deg,#4f72a6, #284d7e);"></div>
    <div class="roomColor" data-type="gradientGrey" style="background:linear-gradient(30deg,#666666, #aaaaaa);"></div>
    <div class="roomColor" data-type="gradientWhite" style="background:linear-gradient(30deg,#fafafa, #eaeaea);"></div>
    <div class="roomColor" data-type="gradientOrange" style="background:linear-gradient(30deg, #f9ad67, #f97f00);"></div>
    <div class="roomColor" data-type="gradientPurple" style="background:linear-gradient(30deg,#a784d9, #8951da);"></div>
    <div class="roomColor" data-type="gradientPink" style="background:linear-gradient(30deg,#df67bd, #e22aae);"></div>
    <div class="roomColor" data-type="gradientBlack" style="background:linear-gradient(30deg,#3c3b3b, #000000);"></div>
    <div class="roomColor" data-type="gradientNeutral" style="background:linear-gradient(30deg,#e2c695, #c69d56);"></div>
    <br/><br/>
    <p>Matérials</p>
    <div class="roomColor" data-type="wood" style="background: url('./patterns/wood.jpg');"></div>
    <div class="roomColor" data-type="tiles" style="background: url('./patterns/tiles.jpg');"></div>
    <div class="roomColor" data-type="granite" style="background: url('./patterns/granite.jpg');"></div>
    <div class="roomColor" data-type="grass" style="background: url('./patterns/grass.jpg');"></div>
    <div data-type="#ff008a" style="clear:both"></div>
    <br/><br/>
      <input type="hidden" id="roomBackground" value="gradientNeutral" />
      <input type="hidden" id="roomIndex" value="" />
      <button type="button" class="btn btn-primary" id="applySurface">Apply</button>
      <button type="button" class="btn btn-danger" id="resetRoomTools">Cancel</button>

      <br/>
  </div>

  <div id="panel" class="leftBox" ontouchstart='recordXY(event)' ontouchmove='detectSwipeLeft(event)'>
    <ul class="list-unstyled">
      <li><button class="btn disabled halfy " id="undo" title="undo"><i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
      <button class="btn disabled halfy pull-right" id="redo" title="redo"><i class="fa fa-chevron-circle-right" aria-hidden="true"></i></button>
      </li>
      <li><button class="btn btn-success fully " id="select_mode" style="box-shadow:2px 2px 3px #ccc;"><i class="fa fa-2x fa-mouse-pointer" aria-hidden="true"></i></button></li>
      <li>
      <button class="btn btn-default fully " style="margin-bottom:0px" id="line_mode" data-toggle="tooltip" data-placement="right" title="Make walls">WALL</button>
      <button class="btn btn-default fully " style="margin-bottom:0px" id="partition_mode" data-toggle="tooltip" data-placement="right" title="Make partitions wall">PARTITION</button>
      <div class="funkyradio"  style="font-size:0.8em">
        <div class="funkyradio-success">
          <input type="checkbox" id="multi" checked/>
          <label for="multi">MULTIPLE</label>
        </div>
      </div>
      </li>
      <br/>
      <li><button class="btn btn-default fully " id="room_mode">CONFIG. ROOMS</button></li>
      <li><button class="btn btn-default fully " id="node_mode"><i class="fa fa-2x fa-scissors" aria-hidden="true"></i></button></li>
      <li><button class="btn btn-default fully " id="distance_mode" data-toggle="tooltip" data-placement="right" title="Add a measurement (Temporary)">MEASURE</button></li>
      <li><button class="btn btn-default fully " id="text_mode" data-toggle="tooltip" data-placement="right" title="Add text">TEXT</button></li>
      <br/>
      <div id="door_list"  class="list-unstyled sub" style="top: 0px;height: 100vh;box-shadow:2px 2px 3px #ccc;display:none;background:#fff;border-radius: 0 5px 5px 0; padding:10px;position:absolute;left:200px;width:150px">
        <button class="btn fully door" id="aperture">Aperture</button>
        <button class="btn fully door" id="simple">Simple</button>
        <button class="btn fully door" id="double">Double</button>
        <button class="btn fully door" id="pocket">Pocket</button>
      </div>
      <li style="width: 47%;margin-right:5px;display: inline-block;float: left;"><button class="btn btn-default fully " id="door_mode" onclick="$('.sub').hide();$('#door_list').toggle(200);$('#window_list').hide();">DOOR</button></li>

      <div id="window_list"  class="list-unstyled sub" style="top: 0px;height: 100vh;box-shadow:2px 2px 3px #ccc;display:none;background:#fff;border-radius: 0 5px 5px 0; padding:10px;position:absolute;left:200px;width:150px">
        <button class="btn fully window" id="fix">Fix</button>
        <button class="btn fully window" id="flap">Simple</button>
        <button class="btn fully window" id="twin">Double</button>
        <button class="btn fully window" id="bay">Slide</button>
      </div>
      <li style="width: 50%;display: inline-block;"><button class="btn btn-default fully " id="window_mode" onclick="$('.sub').hide();$('#window_list').toggle(200);$('#door_list').hide()">WINDOW</button></li>
      
      <li style="width: 47%;margin-right:5px;display: inline-block;float: left;"><button class="btn btn-default fully beam" style="margin-bottom:6px" id="beam" data-toggle="tooltip" data-placement="right" title="Make beams">BEAM</button></li>
      <li style="width: 50%;display: inline-block;"><button class="btn btn-default fully column" id="column" data-toggle="tooltip" data-placement="right" title="Make columns">COLUMN</button></li>

      <li style="width: 47%;margin-right:5px;display: inline-block;float: left;"><button class="btn btn-default fully object" id="stair_mode" onclick="$('.sub').hide();$('#door_list').hide()">STAIR</button></li>
      <li style="width: 50%;display: inline-block;"><button class="btn btn-default fully" id="slab" title="Better Add Slab at the End">SLAB</button></li>
      <li><button class="btn btn-default fully" id="roof" title="Add Roof at the End">ROOF</button></li>


      <div id="energy_list"  class="list-unstyled sub" style="top: 0px;height: 100vh;box-shadow:2px 2px 3px #ccc;display:none;background:#fff;border-radius: 0 5px 5px 0; padding:10px;position:absolute;left:200px;bottom:40px;">
        <div style="width:700px;padding:10px">
          <p>Energy</p>
          <div class="row" style="display: flex;flex-wrap: wrap;">
            <div style="padding:10px;margin:5px;border:1px solid #ddd;border-radius:5px;display:inline-block;width: 350px;box-sizing: border-box;">
              <p>Electricity</p>
              <div class="col-sm-6" style="padding:2px">
                <button class="btn fully object" id="gtl">GTL</button>
                <button class="btn fully object" id="switch">Light switch</button>
                <button class="btn fully object" id="doubleSwitch">Multiple Switch</button>
                <button class="btn fully object" id="dimmer">Dimmer</button>
                <button class="btn fully object" id="tv">TV</button>
              </div>
              <div class="col-sm-6" style="padding:2px">
                <button class="btn fully object" id="plug">Plug</button>
                <button class="btn fully object" id="plug20">Plug 20A</button>
                <button class="btn fully object" id="plug32">Plug 32A</button>
                <button class="btn fully object" id="roofLight">Roof Light</button>
                <button class="btn fully object" id="wallLight">Wall Light</button>
              </div>
            </div>
            
            <div style="padding:10px;margin:5px;border:1px solid #ddd;border-radius:5px;display:inline-block;width: 340px;box-sizing: border-box;">
              <p>Internet</p>
              <button class="btn fully object" id="www">Wi-fi</button>
              <button class="btn fully object" id="rj45">RJ45 Socket</button>
              <button class="btn fully object" id="tv">Antenna Socket</button>
            </div>

            <div style="padding:10px;margin:5px;border:1px solid #ddd;border-radius:5px;display:inline-block;width: 350px;">
              <p>Thermal</p>
              <button class="btn fully object" id="boiler">Boiler</button>
              <button class="btn fully object" id="heater">Water heater</button>
              <button class="btn fully object" id="radiator">Radiator</button>
            </div>
          </div>
        </div>
    </div>

    <div id="object_list"  class="list-unstyled sub" style="top: 0px;height: 100vh;box-shadow:2px 2px 3px #ccc;display:none;background:#fff;border-radius: 0 5px 5px 0; padding:10px;position:absolute;left:200px;bottom:40px;">
        <div style="width:350px;padding:10px">
          <p>Other Items</p>
          <div class="row" style="display: flex;flex-wrap: wrap;">
            <div style="padding:10px;margin:5px;border:1px solid #ddd;border-radius:5px;display:inline-block;width: 340px;">
              <p>Furniture</p>
              <button class="btn fully object" id="bed">Bed</button>
            </div>
          </div>
        </div>
    </div>
    <li><button class="btn btn-default fully " id="object_mode" onclick="$('.sub').hide();$('#energy_list').toggle(200);">ENERGY</button></li>
    <li><button class="btn btn-default fully " id="object_mode" onclick="$('.sub').hide();$('#object_list').toggle(200);">FURNITURE</button></li>

    <li style="width: 47%;margin-right:5px;display: inline-block;float: left;"><button class="btn btn-default fully " id="layer_mode" onclick="$('.sub').hide();$('#layer_list').toggle(200);">LAYERS</button></li>

  <div id="layer_list"  class="list-unstyled sub" style="top: 0px;height: 100vh;box-shadow:2px 2px 3px #ccc;display:none;background:#fff;border-radius: 0 5px 5px 0; padding:10px;position:absolute;left:200px;bottom:100px;width:200px">
    <div class="funkyradio" style="font-size:0.8em">
    <div class="funkyradio-info">
      <input type="checkbox" id="showRib" checked/>
      <label for="showRib">Measurement</label>
    </div>
    </div>
    <div class="funkyradio" style="font-size:0.8em">
      <div class="funkyradio-info">
        <input type="checkbox" id="showArea" checked/>
        <label for="showArea">Surface</label>
      </div>
    </div>
    <div class="funkyradio" style="font-size:0.8em">
      <div class="funkyradio-info">
        <input type="checkbox" id="showLayerRoom" checked/>
        <label for="showLayerRoom">Texture</label>
      </div>
    </div>
    <div class="funkyradio" style="font-size:0.8em">
      <div class="funkyradio-info">
        <input type="checkbox" id="showLayerEnergy" checked/>
        <label for="showLayerEnergy">Energy</label>
      </div>
    </div>
  </div>

  <li style="width: 50%;display: inline-block;"><button class="btn btn-default fully " id="floor_mode" onclick="$('.sub').hide();$('#floor_info').toggle(200);">FLOORS</button></li>
  <div id="floor_info"  class="list-unstyled sub" style="top: 0px;height: 100vh;box-shadow:2px 2px 3px #ccc;display:none;background:#fff;border-radius: 0 5px 5px 0; padding:10px;position:absolute;left:200px;bottom:100px;width:200px">
    <p>Floors</p>
    <select class="form-control" id="floorList">
    </select>
    <hr/>
    <p>Add Floor</p>
    <button class="btn btn-info" id="floorAdd"><i class="fa fa-plus" aria-hidden="true"></i> Add</button>
    <hr/>
    <button class="btn btn-info" id="deleteCurrentFloor">Delete Current Floor</button>
  </div>

  <li><button class="btn btn-default halfy " id="report_mode" title="Show report"><i class="fa fa-calculator" aria-hidden="true"></i>
  <button class="btn btn-default halfy pull-right" onclick="fullscreen();this.style.display='none';$('#nofull_mode').show();" id="full_mode" title="Full screen"><i class="fa fa-expand" aria-hidden="true"></i></button>
  <button class="btn btn-default halfy pull-right" style="display:none" onclick="outFullscreen();this.style.display='none';$('#full_mode').show();" id="nofull_mode" data-toggle="tooltip" data-placement="right" title="Full screen"><i class="fa fa-compress" aria-hidden="true"></i></button>
  <li>

    <div style="clear:both"></div>
  </ul>
  </div>
   
    
  
  <div class="modal fade col-xs-9 col-md-12" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="myModalLabel">Floor Plan App v0.1</h4>
        </div>
        <div class="modal-body">
          <div id="recover">
            <p>A plan exists in history, would you like recover it ?</p>
            <button class="btn btn-default" onclick="initHistory('recovery');">RESTORE DATA</button>
            <hr/>
            <p>Or prefer to start a new plan ?</p>
          </div>
          <div class="row">
            <div class="col-md-3 col-xs-3 boxMouseOver" style="min-height:140px;margin:15px;background:url('newPlanEmpty.jpg')"><img src="newPlanEmpty.jpg" class="img-responsive" onclick="initHistory();"/></div>
            <div class="col-md-3 col-xs-3 boxMouseOver"  style="min-height:140px;margin:15px;background:url('newPlanEmpty.jpg')"><img src="newPlanSquare.jpg"  class="img-responsive" style="margin-top:10px" onclick="initHistory('newSquare');"/></div>
            <div class="col-md-3 col-xs-3 boxMouseOver"  style="min-height:140px;margin:15px;background:url('newPlanEmpty.jpg')"><img src="newPlanL.jpg"  class="img-responsive" style="margin-top:20px" onclick="initHistory('newL');"/></div>
          </div>
          <hr/>
          <div id="import">
            <p>Or Import Plan Data (.json)</p>
            <input type="file" id="importfile" class="btn btn-default" style="display:inline-block;"/>
            <button class="btn btn-default" onclick="importPlan()">IMPORT</button>
          </div>
        </div>
        <!-- <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">CLOSE</button>
          <button type="button" class="btn btn-primary">YES</button>
        </div> -->
      </div>
    </div>
  </div>

  <div class="modal fade" id="textToLayer" tabindex="-1" role="dialog" aria-labelledby="textToLayerLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="textToLayerLabel">Text editor</h4>
        </div>
        <div class="modal-body">
          <p>Choose Font color</p>
          <div class="color textEditorColor" data-type="gradientRed" style="color:#f55847;background:linear-gradient(30deg, #f55847, #f00);"></div>
          <div class="color textEditorColor" data-type="gradientYellow" style="color:#e4c06e;background:linear-gradient(30deg,#e4c06e, #ffb000);"></div>
          <div class="color textEditorColor" data-type="gradientGreen" style="color:#88cc6c;background:linear-gradient(30deg,#88cc6c, #60c437);"></div>
          <div class="color textEditorColor" data-type="gradientSky" style="color:#77e1f4;background:linear-gradient(30deg,#77e1f4, #00d9ff);"></div>
          <div class="color textEditorColor" data-type="gradientBlue" style="color:#4f72a6;background:linear-gradient(30deg,#4f72a6, #284d7e);"></div>
          <div class="color textEditorColor" data-type="gradientGrey" style="color:#666666;background:linear-gradient(30deg,#666666, #aaaaaa);"></div>
          <div class="color textEditorColor" data-type="gradientWhite" style="color:#fafafa;background:linear-gradient(30deg,#fafafa, #eaeaea);"></div>
          <div class="color textEditorColor" data-type="gradientOrange" style="color:#f9ad67;background:linear-gradient(30deg, #f9ad67, #f97f00);"></div>
          <div class="color textEditorColor" data-type="gradientPurple" style="color:#a784d9;background:linear-gradient(30deg,#a784d9, #8951da);"></div>
          <div class="color textEditorColor" data-type="gradientPink" style="color:#df67bd;background:linear-gradient(30deg,#df67bd, #e22aae);"></div>
          <div class="color textEditorColor" data-type="gradientBlack" style="color:#3c3b3b;background:linear-gradient(30deg,#3c3b3b, #000000);"></div>
          <div class="color textEditorColor" data-type="gradientNeutral" style="color:#e2c695;background:linear-gradient(30deg,#e2c695, #c69d56);"></div>
          <div style="clear:both"></div>
          <hr/>
          <p>Font size</p>
          <input type="range" list="tickmarks" id="sizePolice" step="0.1" min="10" max="30" value="15" class="range" style="width:200px"/>
          <hr/>
          <p contenteditable="true" id="labelBox" onfocus="this.innerHTML='';" style="font-size:15px;padding:5px;border-radius:5px;color:#333">Your text</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" onclick="$('#textToLayer').modal('hide');">Apply</button>
        </div>
      </div>
    </div>
  </div>

  <div style="position:absolute;bottom:10px;left:210px;font-size:1.5em;color:#08d" id="boxinfo">
  </div>

  <div id="moveBox" style="position:absolute;right:-150px;top:10px;color:#08d;background:transparent;z-index:2;text-align:center;transition-duration: 0.2s;transition-timing-function: ease-in;">
    <p style="margin:0px 0 0 0;font-size:11px"><b onclick="themeSwitch();" style="cursor:pointer;font-size: 1.4em;display: inline;margin-right: 10px;padding-right: 10px;border-right: 1px solid #847e7e;"><i class="fa fa-moon-o"></i><i class="fa fa-sun-o"></i></b> <img src="https://cdn4.iconfinder.com/data/icons/mathematics-doodle-3/48/102-128.png" width=20px /> Floor Plan App</p>
    <div class="pull-right" style="margin:10px">
    <p style="margin:0"><button class="btn btn-xs btn-info zoom" data-zoom="zoomtop" style="box-shadow:2px 2px 3px #ccc;"><i class="fa fa-arrow-up" aria-hidden="true"></i></button></p>
    <p style="margin:0">
      <button class="btn btn-xs btn-info zoom" data-zoom="zoomleft" style="box-shadow:2px 2px 3px #ccc;"><i class="fa fa-arrow-left" aria-hidden="true"></i></button>
      <button class="btn btn-xs btn-default zoom" data-zoom="zoomreset" style="box-shadow:2px 2px 3px #ccc;"><i class="fa fa-bullseye" aria-hidden="true"></i></button>
      <button class="btn btn-xs btn-info zoom" data-zoom="zoomright" style="box-shadow:2px 2px 3px #ccc;"><i class="fa fa-arrow-right" aria-hidden="true"></i></button>
    </p>
    <p style="margin:0"><button class="btn btn-xs btn-info zoom" data-zoom="zoombottom" style="box-shadow:2px 2px 3px #ccc;"><i class="fa fa-arrow-down" aria-hidden="true"></i></button></p>
    </div>
  </div>

  <div id="zoomBox" style="position:absolute;z-index:100;right:-150px;bottom:20px;text-align:center;background:transparent;padding:0px;color:#fff;transition-duration: 0.2s;transition-timing-function: ease-in;">
    <div class="pull-right" style="margin-right:10px">
      <span class="btn btn btn-primary" id="save_btn">Save</span>
      <button class="btn btn btn-default zoom" data-zoom="zoomin" style="box-shadow:2px 2px 3px #ccc;"><i class="fa fa-plus" aria-hidden="true"></i></button>
      <button class="btn btn btn-default zoom" data-zoom="zoomout" style="box-shadow:2px 2px 3px #ccc;"><i class="fa fa-minus" aria-hidden="true"></i></button>
    </div>
    <div style="clear:both"></div>
      <div id="scaleVal"  class="pull-right"  style="box-shadow:2px 2px 3px #ccc;width:60px;height:20px;background:#4b79aa;border-radius:4px;margin-right:10px">
        1m
      </div>

      <div style="clear:both"></div>
  </div>

  <!-- <div id="panelMenu" style="position:absolute;left:-250px;top:10px;color:#08d;background:transparent;z-index:101;text-align:center;transition-duration: 0.2s;transition-timing-function: ease-in;">
    <div class="pull-left" style="margin:10px">
      <button class="btn btn-xs btn-info zoom" data-zoom="" style="box-shadow:2px 2px 3px #ccc;">&#9776;</button>
    </div>
  </div> -->



</body>
  <script src="jquery.min.js"></script>
  <script src="bootstrap.min.js"></script>
  <script src="mousewheel.js"></script>
  <script src="func.js"></script>
  <script src="qSVG.js"></script>
  <script src="editor.js"></script>
  <script src="engine.js"></script>
  
  <script>
    if(screen.width <= 768){
      $('#panel').hide(200)
    }
    function swipe(event){
      var touch = event.targetTouches[0]
      if(touch.pageX < 20){
        $('#panel').show(200)
      }
    }

    let sX = 0
    let eX = 0
    
    function recordXY(event){
      sX = event.targetTouches[0].pageX
     
    }

    function detectSwipeLeft(event){
    setTimeout(() => {
      eX = event.targetTouches[0].pageX
      // console.log(sX-eX)
      if (sX - eX > 100){
        $('#panel').hide(200)
      }
    }, 500)
    }
  </script>

</html>
